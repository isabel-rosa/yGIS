geom_bar(stat = "identity", aes(fill = factor(Areas)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_fill_brewer()+
guides(fill=guide_legend(title=""))+
theme(legend.position = c(0.6, 0.8),legend.direction="horizontal",  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2010, y=70, label= "b)")
factor(data2$Areas)
factor(data$Status)
### Tanzania paper on forest cover change
# Figure 4 code
#clear workspace
rm(list=ls())
# read packages
library(ggplot2)
library(gridExtra)
#read data file
data<-read.table('/Users/ir30fyca/Desktop/Sustainability_SpecialIssue/R_code/Figure3_data_pre2001.txt',header=T)
plot1<-ggplot(data, aes(Year, RIDLoss))+
geom_bar(stat = "identity", aes(fill = factor(Status)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_fill_brewer()+
theme(legend.position = c(2001, 40),  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2000, y=70, label= "a)")
### 2011-2014 data
#read data file
data2<-read.table('/Users/ir30fyca/Desktop/Sustainability_SpecialIssue/R_code/Figure3_data_2011_2014.txt',header=T)
plot2<-ggplot(data2, aes(Year, RID_loss))+
geom_bar(stat = "identity", aes(fill = factor(Areas)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_fill_brewer()+
guides(fill=guide_legend(title=""))+
theme(legend.position = c(0.6, 0.8),legend.direction="horizontal",  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2010, y=70, label= "b)")
grid.arrange(plot1,plot2, ncol=1, nrow=2)
grid.arrange(plot1,plot2, ncol=1, nrow=2)
plot2<-ggplot(data2, aes(Year, RID_loss))+
geom_bar(stat = "identity", aes(fill = factor(Areas)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_fill_brewer()+
guides(fill=guide_legend(title=""))+
theme(legend.position = c(0.8, 0.9),legend.direction="horizontal",  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2010, y=70, label= "b)")
grid.arrange(plot1,plot2, ncol=1, nrow=2)
plot2<-ggplot(data2, aes(Year, RID_loss))+
geom_bar(stat = "identity", aes(fill = factor(Areas)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_fill_brewer()+
guides(fill=guide_legend(title=""))+
theme(legend.position = c(1, 1),legend.direction="horizontal",  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2010, y=70, label= "b)")
grid.arrange(plot1,plot2, ncol=1, nrow=2)
plot2<-ggplot(data2, aes(Year, RID_loss))+
geom_bar(stat = "identity", aes(fill = factor(Areas)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_fill_brewer()+
guides(fill=guide_legend(title=""))+
theme(legend.position = c(0.9, 0.9),legend.direction="horizontal",  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2010, y=70, label= "b)")
grid.arrange(plot1,plot2, ncol=1, nrow=2)
c(2001, rep("",4), 1950, rep("",4), 2000)
plot1<-ggplot(data, aes(Year, RIDLoss))+
geom_bar(stat = "identity", aes(fill = factor(Status)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_x_continuous(breaks= seq(2001,2014,by=1),
labels = 2001:2014,
limits = c(2001,2014), expand = c(0,0)) +
scale_fill_brewer()+
theme(legend.position = c(2001, 40),  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2000, y=70, label= "a)")
plot1
plot1<-ggplot(data, aes(Year, RIDLoss))+
geom_bar(stat = "identity", aes(fill = factor(Status)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_x_continuous(breaks= seq(2000,2015,by=1),
labels = 2000:2015,
limits = c(2000,2015), expand = c(0,0)) +
scale_fill_brewer()+
theme(legend.position = c(2001, 40),  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2000, y=70, label= "a)")
plot1
c("", 2001:2014, "")
plot1<-ggplot(data, aes(Year, RIDLoss))+
geom_bar(stat = "identity", aes(fill = factor(Status)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_x_continuous(breaks= seq(2000,2015,by=1),
labels = c("", 2001:2014, ""),
limits = c(2000,2015), expand = c(0,0)) +
scale_fill_brewer()+
theme(legend.position = c(2001, 40),  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2000, y=70, label= "a)")
plot1
### Tanzania paper on forest cover change
# Figure 4 code
#clear workspace
rm(list=ls())
# read packages
library(ggplot2)
library(gridExtra)
#read data file
data<-read.table('/Users/ir30fyca/Desktop/Sustainability_SpecialIssue/R_code/Figure3_data_pre2001.txt',header=T)
plot1<-ggplot(data, aes(Year, RIDLoss))+
geom_bar(stat = "identity", aes(fill = factor(Status)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_x_continuous(breaks= seq(2000,2015,by=1),
labels = c("", 2001:2014, ""),
limits = c(2000,2015), expand = c(0,0)) +
scale_fill_brewer()+
theme(legend.position = c(2001, 40),  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2001, y=70, label= "a)")
### 2011-2014 data
#read data file
data2<-read.table('/Users/ir30fyca/Desktop/Sustainability_SpecialIssue/R_code/Figure3_data_2011_2014.txt',header=T)
plot2<-ggplot(data2, aes(Year, RID_loss))+
geom_bar(stat = "identity", aes(fill = factor(Areas)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_fill_brewer()+
guides(fill=guide_legend(title=""))+
theme(legend.position = c(0.9, 0.9),legend.direction="horizontal",  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2010, y=70, label= "b)")
grid.arrange(plot1,plot2, ncol=1, nrow=2)
plot2<-ggplot(data2, aes(Year, RID_loss))+
geom_bar(stat = "identity", aes(fill = factor(Areas)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_x_continuous(breaks= seq(2000,2015,by=1),
labels = c("", 2001:2014, ""),
limits = c(2000,2015), expand = c(0,0)) +
scale_fill_brewer()+
guides(fill=guide_legend(title=""))+
theme(legend.position = c(0.9, 0.9),legend.direction="horizontal",  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2010, y=70, label= "b)")
plot2
### Tanzania paper on forest cover change
# Figure 4 code
#clear workspace
rm(list=ls())
# read packages
library(ggplot2)
library(gridExtra)
#read data file
data<-read.table('/Users/ir30fyca/Desktop/Sustainability_SpecialIssue/R_code/Figure3_data_pre2001.txt',header=T)
plot1<-ggplot(data, aes(Year, RIDLoss))+
geom_bar(stat = "identity", aes(fill = factor(Status)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_x_continuous(breaks= seq(2000,2015,by=1),
labels = c("", 2001:2014, ""),
limits = c(2000,2015), expand = c(0,0)) +
scale_fill_brewer()+
theme(legend.position = c(2001, 40),  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2001, y=70, label= "a)")
### 2011-2014 data
#read data file
data2<-read.table('/Users/ir30fyca/Desktop/Sustainability_SpecialIssue/R_code/Figure3_data_2011_2014.txt',header=T)
plot2<-ggplot(data2, aes(Year, RID_loss))+
geom_bar(stat = "identity", aes(fill = factor(Areas)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_x_continuous(breaks= seq(2000,2015,by=1),
labels = c("", 2001:2014, ""),
limits = c(2000,2015), expand = c(0,0)) +
scale_fill_brewer()+
guides(fill=guide_legend(title=""))+
theme(legend.position = c(0.9, 0.9),legend.direction="horizontal",  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2001, y=70, label= "b)")
grid.arrange(plot1,plot2, ncol=1, nrow=2)
### Tanzania paper on forest cover change
# Figure 4 code
#clear workspace
rm(list=ls())
# read packages
library(ggplot2)
library(gridExtra)
#read data file
data<-read.table('/Users/ir30fyca/Desktop/Sustainability_SpecialIssue/R_code/Figure3_data_pre2001.txt',header=T)
plot1<-ggplot(data, aes(Year, RIDLoss))+
geom_bar(stat = "identity", aes(fill = factor(Status)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_x_continuous(breaks= seq(2000,2015,by=1),
labels = c("", 2001:2014, ""),
limits = c(2000,2015), expand = c(0,0)) +
xlab("")+
scale_fill_brewer()+
theme(legend.position = c(2001, 40),  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2001, y=70, label= "a)")
### 2011-2014 data
#read data file
data2<-read.table('/Users/ir30fyca/Desktop/Sustainability_SpecialIssue/R_code/Figure3_data_2011_2014.txt',header=T)
plot2<-ggplot(data2, aes(Year, RID_loss))+
geom_bar(stat = "identity", aes(fill = factor(Areas)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_x_continuous(breaks= seq(2000,2015,by=1),
labels = c("", 2001:2014, ""),
limits = c(2000,2015), expand = c(0,0)) +
xlab("")+
scale_fill_brewer()+
guides(fill=guide_legend(title=""))+
theme(legend.position = c(0.9, 0.9),legend.direction="horizontal",  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2001, y=70, label= "b)")
grid.arrange(plot1,plot2, ncol=1, nrow=2)
plot2<-ggplot(data2, aes(Year, RID_loss))+
geom_bar(stat = "identity", aes(fill = factor(Areas)), position = 'dodge')+
scale_y_continuous(name ="Annual RI Forest Loss (%)", limits=c(0,70))+
scale_x_continuous(breaks= seq(2000,2015,by=1),
labels = c("", 2001:2014, ""),
limits = c(2000,2015), expand = c(0,0)) +
xlab("")+
scale_fill_brewer()+
guides(fill=guide_legend(title=""))+
theme(legend.position = c(0.8, 0.9),legend.direction="horizontal",  legend.background = element_rect(fill = "transparent"),
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
annotate("text", x=2001, y=70, label= "b)")
grid.arrange(plot1,plot2, ncol=1, nrow=2)
### Tanzania paper on forest cover change
# Figure 2 code
#clear workspace
rm(list=ls())
# libraries to load
library(ggplot2)
#read data file
data<-read.table('/Volumes/My Passport/Homes_Hdrive/LCCMcons/Hansen/manuscript/Sustainability_SpecialIssue/R_code/Figure2_data.txt',header=T)
attach(data)
#linear model on loss over time
model<-lm(Loss/100~Year)
summary(model)
# plot regression of loss against the year
ggplot(data=data, aes(x=Year, y=Loss/100, group=1)) +
theme(
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
geom_point()+
scale_y_continuous(limits=c(500,max(Loss/100)))+
ylab(expression(paste("Forest or Woodland Loss (",km^{2},')')))+
scale_x_continuous(breaks= seq(2000,2015,by=1),
labels = c(2000, rep("",4), 2005, rep("",4), 2010, rep("",4), 2015),
limits = c(2000,2016), expand = c(0,0))+
geom_abline(intercept = -245227.54, slope = 122.94, color="grey", linetype="dashed", size=1)+
geom_text(label="") +
annotate("text", label = "R-sq = 0.78, p-value < 0.001", x = 2005, y = 2100, size = 5, colour = "black")
### Tanzania paper on forest cover change
# Figure 2 code
#clear workspace
rm(list=ls())
# libraries to load
library(ggplot2)
#read data file
data<-read.table('/Users/ir30fyca/Desktop/Sustainability_SpecialIssue/R_code/Figure2_data.txt',header=T)
attach(data)
#linear model on loss over time
model<-lm(Loss/100~Year)
summary(model)
# plot regression of loss against the year
ggplot(data=data, aes(x=Year, y=Loss/100, group=1)) +
theme(
axis.text=element_text(size=12),
axis.title=element_text(size=14))+
geom_point()+
scale_y_continuous(limits=c(500,max(Loss/100)))+
ylab(expression(paste("Forest or Woodland Loss (",km^{2},')')))+
scale_x_continuous(breaks= seq(2000,2015,by=1),
labels = c(2000, rep("",4), 2005, rep("",4), 2010, rep("",4), 2015),
limits = c(2000,2016), expand = c(0,0))+
geom_abline(intercept = -245227.54, slope = 122.94, color="grey", linetype="dashed", size=1)+
geom_text(label="") +
annotate("text", label = "R-sq = 0.78, p-value < 0.001", x = 2005, y = 2100, size = 5, colour = "black")
# vectors, matrices, data.frame, lists
vXY <- c(x, y)
# assigning variables
x <- 1
y <- 2
# operations
x + y
x * y
# logical
x == 10
x > 2
x < 2
# vectors, matrices, data.frame, lists
vXY <- c(x, y)
new_vec <- c(1,2,3,4,5)
new_max <- cbind(new_vec, new_vec)
vXY
new_vec
new_max
z <- c("A", "B", "C")
z+x
new_mat2<-cbind(new_max, z)
v
new_mat2
new_mat <- cbind(new_vec, new_vec)
z <- c("A", "B", "C", "D", "E")
new_mat
cbind(new_mat,z)
is.vector(x)
is.matrix(x)
str(x)
str(new_mat)
# subset data
new_vec[1]
new_vec[length(new_vec)]
typeof(x)
typeof(new_max)
typeof(z)
new_mat[1,2]
head(new_mat,n=1)
tail(new_mat,n=2)
# generates 2 x 3 numeric matrix
y<-matrix(1:20, nrow=2,ncol=3)
# generates 2 x 3 numeric matrix
y<-matrix(1:6, nrow=2,ncol=3)
y
y1<-matrix(1:6, nrow=2,ncol=3, byrow=T)
y
y2<-matrix(1:6, nrow=2,ncol=3, bycol=T)
y2<-matrix(1:6, nrow=2,ncol=3, byrow=F)
y2
y1
# generates 2 x 3 numeric matrix
y<-matrix(1:6, nrow=2,ncol=3, dimnames=list(rnames, cnames)))
# generates 2 x 3 numeric matrix
y<-matrix(1:6, nrow=2,ncol=3, dimnames=list(rnames, cnames))
new_mat
colnames(new_mat)
# changing column names
colnames(new_mat)
colnames(new_mat)<-c("column1", "column2")
new_mat
head(new_mat,n=1)
new_mat$column1
new_mat2<-cbind(new_mat,z)
new_mat2
is.data.frame(new_mat2)
new_mat2[,1]
new_mat2[,1]+10
# convert matrix to data.frame
new_mat2<-data.frame(new_mat2)
is.data.frame(new_mat2)
new_mat2
new_mat2[,1]+10
is.numeric(new_mat2)
is.numeric(new_mat2$column1)
df1<-data.frame(x, y, z)
new_vec <- c(1,2,3,4,5)
df1<-data.frame(1:5, 2:6, z)
df1
df1<-data.frame(col1 = 1:5, col2 = 2:6, col3 = z)
df1
df1<-data.frame(1:5,2:6,z)
df1[,1]+10
df1
df1
df1<-data.frame(col1 = 1:5, col2 = 2:6, col3 = z)
df1$col1+10  # notice that we're not replacing the values in the data.frame
df1
df1$col1<-df1$col1 + 100
df1
df1$col4<-df1$col1 x 100
df1$col4<-df1$col1 * 100
df1
df1
df1$col3[df1$col3=="D"]<-"Z"
df1
df1$col3[df1$col3=="D"]
# flexibility of data.frames
df1<-data.frame(1:5,2:6,z)
df1<-data.frame(col1 = 1:5, col2 = 2:6, col3 = z)
df1$col1+10  # notice that we're not replacing the values in the data.frame
df1
df1
levels(df1$col3)
df1$col3=="D"
df1[df1$col3=="D",]
df1
rowSums(df1)
rowSums(df1$col1)
sum(df1$col1)
sum(df1)
new_mat
colSum(new_mat)
colSums(new_mat)
rowSums(new_mat)
df1$col1[df1$col3=="D",]<-10
df1$col1[df1$col3=="D"]<-10
df1
# find values and return their index (position in object)
which(df1$col1==10)
sum(df1$col1==10)
new_mat+2
new_mat+2 * runif(1)
new_mat+2 * runif(10)
new_mat^2
install.packages("googledrive")
library(googledrive)
# read in shapefile using rgdal
sc <- readOGR(".", "SnowGIS/Cholera_Deaths")
# load packages
library(raster)
# load packages
library(raster)
library(rgdal)
# load packages
library(raster)
library(rgdal)
library(sp)
# read in shapefile using rgdal
sc <- readOGR(".", "SnowGIS/Cholera_Deaths")
# read in shapefile using rgdal
sc <- readOGR(".", "/SnowGIS/Cholera_Deaths")
getwd()
setwd("/Users/ir30fyca/git-projects/yGIS")
# assigning variables
x <- 1
y <- 2
# mathematical operations
x + y
x * y
x - y
x / y
# logical operations
x == 10
x > 2
x < 2
x >= 1
x <= 1
# check object type
str(x)
is.matrix(y)
typeof(x)
# vectors, matrices and data frames
vXY <- c(x, y)
new_vec <- c(1,2,3,4,5)
new_mat <- cbind(new_vec, new_vec)
# generates 2 x 3 numeric matrix
y<-matrix(1:6, nrow=2,ncol=3)
y1<-matrix(1:6, nrow=2,ncol=3, byrow=T) # by rows
y2<-matrix(1:6, nrow=2,ncol=3, byrow=F) # by columns
# operations with matrices
colSums(new_mat) #sum all values in each column
rowSums(new_mat) #sum all values in each row
t(new_mat) # transpose
new_mat + 2 # add a constant to each element in the matrix
new_mat * 0.5 # multiplies a constant to each element in the matrix
new_mat ^ 2
# adding characters
z <- c("A", "B", "C", "D", "E")
new_mat2<-cbind(new_mat,z) # notice what happens
new_mat2[,1]+10
# load packages
library(raster)
library(rgdal)
library(sp)
# read in shapefile using rgdal
sc <- readOGR(".", "/SnowGIS/Cholera_Deaths")
getwd()
ls
sc <- readOGR(".", "/SnowGIS/Cholera_Deaths")
sc <- readOGR(".", "Cholera_Deaths")
setwd()
getwd()
# read in shapefile using rgdal
sc <- readOGR("/Users/ir30fyca/git-projects/yGIS/SnowGIS", "Cholera_Deaths")
# read in raster
tc<-raster("SnowMap.tif")
setwd("/Users/ir30fyca/git-projects/yGIS/SnowGIS")
# read in raster
tc<-raster("/Users/ir30fyca/git_projects/yGIS/SnowGIS/SnowMap.tif")
setwd("/Users/ir30fyca/git_projects/yGIS/SnowGIS/")
# read in shapefile using rgdal
sc <- readOGR(".", "Cholera_Deaths")
# read in raster
tc<-raster("SnowMap.tif")
getwd()
# read in raster
tc<-raster("/SnowMap.tif")
pumps <- readOGR(".", "Pumps")
getwd()
ls(getwd())
list.files(getwd())
# read in raster
tc<-raster("SnowMap.tif")
# read in shapefile using rgdal
deaths <- readOGR(".", "Cholera_Deaths.shp")
